# 148. 合并果子

## 题目

为了对抗附近恶意国家的威胁，R国更新了他们的导弹防御系统。

一套防御系统的导弹拦截高度要么一直 严格单调 上升要么一直 严格单调 下降。

例如，一套系统先后拦截了高度为3和高度为4的两发导弹，那么接下来该系统就只能拦截高度大于4的导弹。

给定即将袭来的一系列导弹的高度，请你求出至少需要多少套防御系统，就可以将它们全部击落。

#### 输入格式

输入包含多组测试用例。

对于每个测试用例，第一行包含整数n，表示来袭导弹数量。

第二行包含n个不同的整数，表示每个导弹的高度。

当输入测试用例n=0时，表示输入终止，且该用例无需处理。

#### 输出格式

对于每个测试用例，输出一个占据一行的整数，表示所需的防御系统数量。

#### 数据范围

![](http://latex.codecogs.com/gif.latex?\\1%20\leq%20n%20\leq%2050)

#### 输入样例：

```
5
3 5 2 4 1
0
```

#### 输出样例：

```
2
```

### 样例解释

对于给出样例，最少需要两套防御系统。

一套击落高度为3,4的导弹，另一套击落高度为5,2,1的导弹。

## 题解

### DFS/贪心

本题解法类似[1010. 拦截导弹](https://github.com/shaqsnake/coding-practice/tree/master/src/acwing/1010)中的第二部分，需要通过贪心吃的方式判断是将遍历序列a[1..n]中的数a[k]放在上升序列中还是下降序列中，放置的策略也是贪心的遍历当前所有上升或下降序列的最后一个数，

1. 如果a[k]可以就放置到序列中，就继续遍历下一个数；
2. 如果遍历完所有序列仍然找不到位置安放a[k]，则新开一个序列即可。

此题的难点是如何通过DFS的方式来搜索所有状态并找到其最小值，而且在搜索过程中要注意状态回溯。